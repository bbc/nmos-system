<!DOCTYPE HTML><html><head><title>System API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/raml2html/raml2html 7.2.0"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $('.page-header pre code, .top-resource-description pre code, .modal-body pre code').each(function(i, block) {
          hljs.highlightBlock(block);
        });

        $('[data-toggle]').click(function() {
          var selector = $(this).data('target') + ' pre code';
          $(selector).each(function(i, block) {
            hljs.highlightBlock(block);
          });
        });

        // open modal on hashes like #_action_get
        $(window).bind('hashchange', function(e) {
          var anchor_id = document.location.hash.substr(1); //strip #
          var element = $('#' + anchor_id);

          // do we have such element + is it a modal?  --> show it
          if (element.length && element.hasClass('modal')) {
            element.modal('show');
          }
        });

        // execute hashchange on first page load
        $(window).trigger('hashchange');

        // remove url fragment on modal hide
        $('.modal').on('hidden.bs.modal', function() {
          try {
            if (history && history.replaceState) {
                history.replaceState({}, '', '#');
            }
          } catch(e) {}
        });
      });
    </script><style>
      .hljs {
        background: transparent;
      }
      .parent {
        color: #999;
      }
      .list-group-item > .badge {
        float: none;
        margin-right: 6px;
      }
      .panel-title > .methods {
        float: right;
      }
      .badge {
        border-radius: 0;
        text-transform: uppercase;
        width: 70px;
        font-weight: normal;
        color: #f3f3f6;
        line-height: normal;
      }
      .badge_get {
        background-color: #63a8e2;
      }
      .badge_post {
        background-color: #6cbd7d;
      }
      .badge_put {
        background-color: #22bac4;
      }
      .badge_delete {
        background-color: #d26460;
      }
      .badge_patch {
        background-color: #ccc444;
      }
      .list-group, .panel-group {
        margin-bottom: 0;
      }
      .panel-group .panel+.panel-white {
        margin-top: 0;
      }
      .panel-group .panel-white {
        border-bottom: 1px solid #F5F5F5;
        border-radius: 0;
      }
      .panel-white:last-child {
        border-bottom-color: white;
        -webkit-box-shadow: none;
        box-shadow: none;
      }
      .panel-white .panel-heading {
        background: white;
      }
      .tab-pane ul {
        padding-left: 2em;
      }
      .tab-pane h1 {
        font-size: 1.3em;
      }
      .tab-pane h2 {
        font-size: 1.2em;
        padding-bottom: 4px;
        border-bottom: 1px solid #ddd;
      }
      .tab-pane h3 {
        font-size: 1.1em;
      }
      .tab-content {
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        padding: 10px;
      }
      #sidebar {
        margin-top: 30px;
        padding-right: 5px;
        overflow: auto;
        height: 90%;
      }
      .top-resource-description {
        border-bottom: 1px solid #ddd;
        background: #fcfcfc;
        padding: 15px 15px 0 15px;
        margin: -15px -15px 10px -15px;
      }
      .resource-description {
        border-bottom: 1px solid #fcfcfc;
        background: #fcfcfc;
        padding: 15px 15px 0 15px;
        margin: -15px -15px 10px -15px;
      }
      .resource-description p:last-child {
        margin: 0;
      }
      .list-group .badge {
        float: left;
      }
      .method_description {
        margin-left: 85px;
      }
      .method_description p:last-child {
        margin: 0;
      }
      .list-group-item {
        cursor: pointer;
      }
      .list-group-item:hover {
        background-color: #f5f5f5;
      }
      pre code {
        overflow: auto;
        word-wrap: normal;
        white-space: pre;
      }
      .items {
        background: #f5f5f5;
        color: #333;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 9.5px;
        margin: 0 0 10px;
        font-size: 13px;
        line-height: 1.42857143;
      }
      .examples {
        margin-left: 0.5em;
      }
      .resource-modal li > ul {
        margin-bottom: 1em;
      }
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>System API documentation <small>version v1.0</small></h1><p>http://example.api.com/x-nmos/system/{version}</p><ul><li><strong>version</strong>: <em>required (v1.0)</em></li></ul><h3 id="overview"><a href="#overview">Overview</a></h3><p>The System API allows Nodes to obtain information that is common across a system</p><h3 id="dns_sd_advertisement"><a href="#dns_sd_advertisement">DNS-SD Advertisement</a></h3><p>System APIs MAY produce an mDNS advertisement of the type _nmos-system._tcp. A unicast DNS announcement of the same type MAY be used in addition to or instead of using mDNS.</p><p>The IP address and port of the System API MUST be identified via the DNS-SD advertisement, with the full HTTP path then being resolved via the standard NMOS API path documentation.</p><p>Multiple DNS-SD advertisements for the same API are permitted where the API is exposed via multiple ports and/or protocols.</p><h3 id="dns_sd_txt_records"><a href="#dns_sd_txt_records">DNS-SD TXT Records</a></h3><p><strong>api_proto</strong></p><p>The DNS-SD advertisement MUST be accompanied by a TXT record of name &#39;api_proto&#39; with a value of either &#39;http&#39; or &#39;https&#39; dependent on the protocol in use by the System API web server.</p><p><strong>api_ver</strong></p><p>The DNS-SD advertisement MUST be accompanied by a TXT record of name &#39;api_ver&#39;. The value of this TXT record is a comma separated list of API versions supported by the server. For example: &#39;v1.0,v1.1,v2.0&#39;. There should be no whitespace between commas, and versions should be listed in ascending order.</p><p><strong>pri</strong></p><p>The DNS-SD advertisement MUST include a TXT record with key &#39;pri&#39; and an integer value. Servers MAY additionally represent a matching priority via the DNS-SD SRV record &#39;priority&#39; and &#39;weight&#39; as defined in RFC 2782. The TXT record should be used in favour to the SRV priority and weight where these values differ in order to overcome issues in the Bonjour and Avahi implementations. Values 0 to 99 correspond to an active NMOS System API (zero being the highest priority). Values 100+ are reserved for development work to avoid colliding with a live system.</p></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Base</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_"><span class="parent"></span>/</a> <span class="methods"><a href="#_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>List of resources available.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/</h4></div><div class="modal-body"><div class="alert alert-info"><p>List of resources available.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>:</p><pre><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "array",
  "description": "Describes the System API base resource",
  "title": "System API base resource",
  "items": {
    "type": "string",
    "enum": [
      "global/"
    ],
    "minItems": 1,
    "maxItems": 1,
    "uniqueItems": true
  }
}
</code></pre><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
    "global/"
]
</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="global" class="panel-title">Global configuration resource</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_global"><span class="parent"></span>/global</a> <span class="methods"><a href="#global_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_global" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#global_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Global configuration parameters</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="global_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/global</h4></div><div class="modal-body"><div class="alert alert-info"><p>Global configuration parameters</p></div><ul class="nav nav-tabs"><li class="active"><a href="#global_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="global_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>:</p><pre><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Defines the Global System Constants",
  "title": "System resource - globals",
  "allOf": [
    { "$ref": "resource_core.json" },
    {
      "type": "object",
      "required": [
        "is04",
        "ptp"
      ],
      "additionalProperties": true,
      "properties": {
        "is04": {
          "description": "Constants relating to AMWA NMOS IS-04",
          "type": "object",
          "required": [
            "heartbeat_interval"
          ],
          "properties": {
            "heartbeat_interval": {
              "description": "How often a Node should re-assert its registration (in seconds)",
              "type": "integer",
              "default": 5,
              "minimum": 1,
              "maximum": 1000
            }
          }
        },
        "ptp": {
          "description": "Constants relating to IEEE1588 PTP",
          "type": "object",
          "required": [
            "announce_receipt_timeout",
            "domain_number"
          ],
          "properties": {
            "announce_receipt_timeout": {
              "description": "Number of announce intervals that must pass before declaring timeout",
              "type": "integer",
              "minimum": 2,
              "maximum": 10
            },
            "domain_number": {
              "description": "The PTP domain number",
              "type": "integer",
              "minimum": 0,
              "maximum": 127
            }
          }
        },
        "syslogv2": {
          "description": "Constants relating to syslog v2 servers",
          "type": "object",
          "additionalProperties": true,
          "properties": {
            "hostname": {
              "description": "Hostname or IP of a syslog v2 server (optional)",
              "type": "string",
              "format": "hostname"
            },
            "port": {
              "description": "destination port number for syslog v2 messages",
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
            }
          }
        },
        "syslog": {
          "description": "Constants relating to syslog v1 servers",
          "type": "object",
          "additionalProperties": true,
          "properties": {
            "hostname": {
              "description": "Hostname or IP of a syslog v1 server (optional)",
              "type": "string",
              "format": "hostname"
            },
            "port": {
              "description": "destination port number for syslog v1 messages",
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
            }
          }
        }
      }
    }
  ]
}
</code></pre><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "id": "3b8be755-08ff-452b-b217-c9151eb21193",
    "version": "1441700172:318426300",
    "label": "ZBQ System",
    "description": "System Global Information for ZBQ",
    "caps": {},
    "tags": {},
    "is04": {
        "heartbeat_interval": 8
    },
    "ptp": {
        "announce_receipt_timeout": 2,
        "domain_number": 57
    },
    "syslogv2": {
        "hostname": "biglogger.ebu.ch",
        "port": 3477
    }
}
</code></pre></div></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#">Base</a></li><li><a href="#global">Global configuration resource</a></li></ul></div></div></div></div></body></html>